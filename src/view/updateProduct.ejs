<!DOCTYPE html>
<html lang="es">

<%- include ("./partials/head.ejs") %>

    <body class="inicio-sesion">

        <%- include ("./partials/headerAdmin.ejs") %>




            <form class="login" action="/update/<%=product.id %>" method="post">

                <div class="contenedor-inicio">
                    <h1>Editar Producto</h1>
                    <div class="subContainer">
                        <div class="subSubContainer">
                            <label for="productName">Nombre de producto</label>
                            <input type="text" id="productName" name="name" value="<%= product.name %>" />
                        </div>
                        <div class="subSubContainer">
                            <label for="description">Descripcion de producto</label>
                            <input type="text" id="description" name="description" value="<%= product.description%>" />
                        </div>
                        <div class="subSubContainer"">
                        <label for=" price">Precio de producto</label>
                            <input type="number" id="price" name="price" value="<%= product.price  %>" />
                        </div>
                        <div class="subSubContainer">
                            <label for="price">Stock</label>
                            <input type="number" id="stock" name="stock" value="<%= product.stock %>" />
                        </div>
                        <div class="subSubContainer">
                            <label for=" image_url">Imagen de producto</label>
                            <input type=" url" id="image_url" name="image_url" value="<%= product.image_url %>" />
                        </div>
                        <div class="modal-footer">
                            <button id="cerrar" class="cerrar" type="button">Cerrar</button>
                            <button type="submit">Actualizar Producto</button>
                        </div>
                    </div>

                </div>
            </form>


            <link href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-bootstrap-4/bootstrap-4.css" rel="stylesheet">
            <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.js"></script>
            <%- include ("./partials/footer.ejs") %>
                <% if(typeof validaciones !='undefined' ) { %>
                    <% validaciones.forEach( (validacion)=> { %>
                        <div class="alert alert-warning alert-dismissible fade show" role="alert">
                            <strong>
                                <%= validacion.msg %>
                            </strong>
                            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                        </div>
                        <% }) %>
                            <% } %>

                                <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
                                <% if (typeof alert !="undefined" ){ %>
                                    <script>
                                        Swal.fire({
                                            title: "<%=alertTitle %>",
                                            text: "<%= alerMessage %>",
                                            icon: "<%=alerIcon %>",
                                            showconfirmButton: "<%= showConfirmButton%>",
                                            timer: "<%= timer %>",
                                        }).then(() => {
                                            window.location = " /<%= ruta %>"
                                        });                        
                                    </script>

                                    <% } %>
                                        <script> function volver() {
                                                const botonCerrar = document.getElementsByTagName("button")[2];
                                                botonCerrar.addEventListener("click", () => {
                                                    console.log("hiciste click");
                                                    window.document.location.href = "/gestorProductos";
                                                });
                                            }
                                            volver();</script>
    </body>

</html>